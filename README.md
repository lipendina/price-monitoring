# Тестовое задание в юнит "Buyer-experience"
Необходимо реализовать сервис, позволяющий следить за изменением цены любого объявления на Авито:
1. Сервис должен предоставить HTTP метод для подписки на изменение цены. На вход метод получает - ссылку на объявление, email на который присылать уведомления.
2. После успешной подписки, сервис должен следить за ценой объявления и присылать уведомления на указанный email.
3. Если несколько пользователей подписались на одно и тоже объявление, сервис не должен лишний раз проверять цену объявления.
## Требования к решению
1. Необходимо проработать архитектуру сервиса и описать принципиальную схему работы в виде текста и/или диаграмм.
2. Приложить фрагменты кода, решающие конкретные задачи:
* Подписка на изменение цены
* Отслеживание изменений цены
* Отправка уведомления на почту
* Работа с БД

## Усложнения

Реализовать полноценный сервис, который решает поставленную задачу (сервис должен запускаться в docker-контейнере).

Написаны тесты (постарайтесь достичь покрытия в 70% и больше).

Подтверждение email пользователя.

## Инструкция по запуску

### Сборка проекта

Для создания образа из Dockerfile выполняется следующая команда из того же каталога, в котором находится файл docker-compose.yml:

```$ docker-compose build```

### Запуск проекта

Теперь, когда проект собран, его можно запустить с помощью команды:

```$ docker-compose up```

После выполнения этой команды в терминале должен появиться текст: Server is listening...

### API методы

**Подписка на изменение цены**

Запрос:

```
curl --header "Content-Type: application/json"   
     --request POST   
     --data '{"link": "<LINK>", "receiver": "<RECEIVER_EMAIL>"}'   
     http://localhost:9000/subscribe
```

Ответ: сообщение об успешном выполнении или HTTP-код ошибки + описание ошибки.

**Подтверждение подписки на изменение цены**

Запрос:

```
curl --request GET  
"http://localhost:9000/confirm?id=<CONFIRMATION_ID>"
```

Ответ: сообщение об успешном выполнении или HTTP-код ошибки + описание ошибки.

**Отписка от отслеживания изменения цены**

Запрос:

```
curl --header "Content-Type: application/json"   
     --request POST   
     --data '{"link": "<LINK>", "receiver": "<RECEIVER_EMAIL>"}'   
     http://localhost:9000/unsubscribe
```

Ответ: сообщение об успешном выполнении или HTTP-код ошибки + описание ошибки.
